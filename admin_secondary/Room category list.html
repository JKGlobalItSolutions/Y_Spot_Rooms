<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
	<title>Hotel Dashboard Template</title>
	<!-- <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png"> -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">
	<link rel="stylesheet" href="assets/css/feathericon.min.css">
	<link rel="stylehseet" href="https://cdn.oesmith.co.uk/morris-0.5.1.css">
	<link rel="stylesheet" href="assets/plugins/morris/morris.css">
	<link rel="stylesheet" href="assets/css/style.css"> </head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<body>
	<div class="main-wrapper">
		<div class="header">
		  <div class="header-left">
			<a href="index.html" class="logo">
			  <!-- <img
				src="assets/img/hotel_logo.png"
				width="50"
				height="70"
				alt="logo"
			  /> -->
			  <span class="logoclass">HOTEL</span>
			</a>
			<a href="index.html" class="logo logo-small">
			  <!-- <img
				src="assets/img/hotel_logo.png"
				alt="Logo"
				width="30"
				height="30"
			  /> -->
			</a>
		  </div>
  
		  <a href="javascript:void(0);" id="toggle_btn">
			<i class="fe fe-text-align-left"></i>
		  </a>
  
		  <a class="mobile_btn" id="mobile_btn">
			<i class="fas fa-bars"></i>
		  </a>
  
		  <ul class="nav user-menu">
			<li class="nav-item dropdown has-arrow">
			  <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
				<span class="user-img">
					<!-- <img
					class="rounded-circle"
					src="assets/img/profiles/avatar-01.jpg"
					width="31"
					alt="Soeng Souy"/> -->
			</span>
			  </a>
			  <div class="dropdown-menu">
				<div class="user-header">
				  <div class="avatar avatar-sm">
					<img
					  src="assets/img/profiles/avatar-01.jpg"
					  alt="User Image"
					  class="avatar-img rounded-circle"
					/>
				  </div>
				  <div class="user-text">
					<p class="text-muted mb-0">Administrator</p>
				  </div>
				</div>
				<a class="dropdown-item" href="profile.html">My Profile</a>
				<a class="dropdown-item" href="settings.html">Account Settings</a>
				<a class="dropdown-item" href="login.html">Logout</a>
			  </div>
			</li>
		  </ul>
		</div>
		<div class="sidebar" id="sidebar">
			<div class="sidebar-inner slimscroll">
				<div id="sidebar-menu" class="sidebar-menu">
					<ul>
						<li class="active"> <a href="index.html"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a> </li>
						<li class="list-divider"></li>
						<li> <a href="Booking.html"><i class="fas fa-suitcase"></i> <span>Booked</span> </a></li>
						<li> <a href="checkin.html"><i class="fas fa-suitcase"></i> <span> Check in  </span> </a></li>
						<li> <a href="checkout.html"><i class="fas fa-suitcase"></i> <span> Check out </span></a></li>
						<li> <a href="Room category list.html"><i class="fas fa-table"></i> <span> Room Category List </span></a></li>
						<li> <a href="rooms.html"><i class="fas fa-key"></i> <span> Rooms </span> </a></li>
						<li> <a href="users.html"><i class="fas fa-user"></i> <span> Users </span> </a></li>
						<li> <a href="settings.html"><i class="fas fa-cog"></i> <span>Settings</span></a> </li>
						<li class="list-divider"></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="page-wrapper ">
            <main id="view-panel ">
        	
                <div class="container-fluid mt-5 pt-1">
                    
                    <div class="col-lg-12">
                        <div class="row">
                            <!-- FORM Panel -->
                            <div class="col-md-4">
                            <form action="" id="manage-category">
                                <div class="card">
                                    <div class="card-header">
                                            Room Category Form
                                      </div>
                                    <div class="card-body">
                                            <input type="hidden" name="id">
                                            <div class="form-group">
                                                <label class="control-label">Category</label>
                                                <input type="text" class="form-control" name="name">
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label">Price</label>
                                                <input type="number" class="form-control text-right" name="price" step="any">
                                            </div>
                                            <div class="form-group">
                                                <label for="" class="control-label">Image</label>
                                                <input type="file" class="form-control" name="img" onchange="displayImg(this,$(this))">
                                            </div>
                                            <div class="form-group">
                                                <img src="" alt="" id="cimg">
                                            </div>
                                    </div>
                                            
                                    <div class="card-footer">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <button class="btn btn-sm btn-primary col-sm-3 offset-md-3"> Save</button>
                                                <button class="btn btn-sm btn-default col-sm-3" type="button" onclick="$('#manage-category').get(0).reset()"> Cancel</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            </div>
                            <!-- FORM Panel -->
                
                            <!-- Table Panel -->
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-body">
                                        <table class="table table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th class="text-center">#</th>
                                                    <th class="text-center">Img</th>
                                                    <th class="text-center">Room</th>
                                                    <th class="text-center">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                                                <tr>
                                                    <td class="text-center">1</td>
                
                                                
                                                    <td class="text-center">
                                                        <img src="../assets/img/1600480260_4.jpg" alt="" id="cimg">
                                                    </td>
                                                    <td class="">
                                                        <p>Name : <b>Deluxe Room</b></p>
                                                        <p>Price : <b>$500.00</b></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="2" data-name="Deluxe Room" data-price="500" data-cover_img="1600480260_4.jpg">Edit</button>
                                                        <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="2">Delete</button>
                                                    </td>
                                                </tr>
                                                                                <tr>
                                                    <td class="text-center">2</td>
                
                                                
                                                    <td class="text-center">
                                                        <img src="../assets/img/1600480680_2.jpg" alt="" id="cimg">
                                                    </td>
                                                    <td class="">
                                                        <p>Name : <b>Single Room</b></p>
                                                        <p>Price : <b>$120.00</b></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="3" data-name="Single Room" data-price="120" data-cover_img="1600480680_2.jpg">Edit</button>
                                                        <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="3">Delete</button>
                                                    </td>
                                                </tr>
                                                                                <tr>
                                                    <td class="text-center">3</td>
                
                                                
                                                    <td class="text-center">
                                                        <img src="../assets/img/1600480680_room-1.jpg" alt="" id="cimg">
                                                    </td>
                                                    <td class="">
                                                        <p>Name : <b>Family Room</b></p>
                                                        <p>Price : <b>$350.00</b></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="4" data-name="Family Room" data-price="350" data-cover_img="1600480680_room-1.jpg">Edit</button>
                                                        <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="4">Delete</button>
                                                    </td>
                                                </tr>
                                                                                <tr>
                                                    <td class="text-center">4</td>
                
                                                
                                                    <td class="text-center">
                                                        <img src="../assets/img/1600482780_3.jpg" alt="" id="cimg">
                                                    </td>
                                                    <td class="">
                                                        <p>Name : <b>Twin Bed Room</b></p>
                                                        <p>Price : <b>$200.00</b></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="6" data-name="Twin Bed Room" data-price="200" data-cover_img="1600482780_3.jpg">Edit</button>
                                                        <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="6">Delete</button>
                                                    </td>
                                                </tr>
                                                                                <tr>
                                                    <td class="text-center">5</td>
                
                                                
                                                    <td class="text-center">
                                                        <img src="../assets/img/1712472900_room1.jpeg.jpg" alt="" id="cimg">
                                                    </td>
                                                    <td class="">
                                                        <p>Name : <b>super Room</b></p>
                                                        <p>Price : <b>$1,200.00</b></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="8" data-name="super Room" data-price="1200" data-cover_img="1712472900_room1.jpeg.jpg">Edit</button>
                                                        <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="8">Delete</button>
                                                    </td>
                                                </tr>
                                                                                <tr>
                                                    <td class="text-center">6</td>
                
                                                
                                                    <td class="text-center">
                                                        <img src="../assets/img/1712477340_hotel2.jpg" alt="" id="cimg">
                                                    </td>
                                                    <td class="">
                                                        <p>Name : <b>super Room</b></p>
                                                        <p>Price : <b>$1,200.00</b></p>
                                                    </td>
                                                    <td class="text-center">
                                                        <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="9" data-name="super Room" data-price="1200" data-cover_img="1712477340_hotel2.jpg">Edit</button>
                                                        <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="9">Delete</button>
                                                    </td>
                                                </tr>
                                                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- Table Panel -->
                        </div>
                    </div>	
                
                </div>
                <style>
                    img#cimg,.cimg{
                        max-height: 10vh;
                        max-width: 6vw;
                    }
                    td{
                        vertical-align: middle !important;
                    }
                </style>
                <script>
                    function displayImg(input,_this) {
                        if (input.files && input.files[0]) {
                            var reader = new FileReader();
                            reader.onload = function (e) {
                                $('#cimg').attr('src', e.target.result);
                            }
                
                            reader.readAsDataURL(input.files[0]);
                        }
                    }
                    $('#manage-category').submit(function(e){
                        e.preventDefault()
                        start_load()
                        $.ajax({
                            url:'ajax.php?action=save_category',
                            data: new FormData($(this)[0]),
                            cache: false,
                            contentType: false,
                            processData: false,
                            method: 'POST',
                            type: 'POST',
                            success:function(resp){
                                if(resp==1){
                                    alert_toast("Data successfully added",'success')
                                    setTimeout(function(){
                                        location.reload()
                                    },1500)
                
                                }
                                else if(resp==2){
                                    alert_toast("Data successfully updated",'success')
                                    setTimeout(function(){
                                        location.reload()
                                    },1500)
                
                                }
                            }
                        })
                    })
                    $('.edit_cat').click(function(){
                        start_load()
                        var cat = $('#manage-category')
                        cat.get(0).reset()
                        cat.find("[name='id']").val($(this).attr('data-id'))
                        cat.find("[name='name']").val($(this).attr('data-name'))
                        cat.find("[name='price']").val($(this).attr('data-price'))
                        cat.find("#cimg").attr('src','../assets/img/'+$(this).attr('data-cover_img'))
                        end_load()
                    })
                    $('.delete_cat').click(function(){
                        _conf("Are you sure to delete this category?","delete_cat",[$(this).attr('data-id')])
                    })
                    function delete_cat($id){
                        start_load()
                        $.ajax({
                            url:'ajax.php?action=delete_category',
                            method:'POST',
                            data:{id:$id},
                            success:function(resp){
                                if(resp==1){
                                    alert_toast("Data successfully deleted",'success')
                                    setTimeout(function(){
                                        location.reload()
                                    },1500)
                
                                }
                            }
                        })
                    }
                </script>  	
                
                  </main>
		</div>
	</div>
	<script data-cfasync="false" src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
	<script src="assets/js/jquery-3.5.1.min.js"></script>
	<script src="assets/js/popper.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/plugins/raphael/raphael.min.js"></script>
	<script src="assets/plugins/morris/morris.min.js"></script>
	<script src="assets/js/chart.morris.js"></script>
	<script src="assets/js/script.js"></script>
</body>

</html>