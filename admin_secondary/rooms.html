<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <title>Hotel Dashboard Template</title>
    <!-- <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png"> -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="assets/plugins/fontawesome/css/fontawesome.min.css"
    />
    <link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="assets/css/feathericon.min.css" />
    <link rel="stylehseet" href="https://cdn.oesmith.co.uk/morris-0.5.1.css" />
    <link rel="stylesheet" href="assets/plugins/morris/morris.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <body>
    <div class="main-wrapper">
      <div class="header">
        <div class="header-left">
          <a href="index.html" class="logo">
            <!-- <img
				src="assets/img/hotel_logo.png"
				width="50"
				height="70"
				alt="logo"
			  /> -->
            <span class="logoclass">HOTEL</span>
          </a>
          <a href="index.html" class="logo logo-small">
            <!-- <img
				src="assets/img/hotel_logo.png"
				alt="Logo"
				width="30"
				height="30"
			  /> -->
          </a>
        </div>

        <a href="javascript:void(0);" id="toggle_btn">
          <i class="fe fe-text-align-left"></i>
        </a>

        <a class="mobile_btn" id="mobile_btn">
          <i class="fas fa-bars"></i>
        </a>

        <ul class="nav user-menu">
          <li class="nav-item dropdown has-arrow">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
              <span class="user-img">
                <!-- <img
					class="rounded-circle"
					src="assets/img/profiles/avatar-01.jpg"
					width="31"
					alt="Soeng Souy"/> -->
              </span>
            </a>
            <div class="dropdown-menu">
              <div class="user-header">
                <div class="avatar avatar-sm">
                  <img
                    src="assets/img/profiles/avatar-01.jpg"
                    alt="User Image"
                    class="avatar-img rounded-circle"
                  />
                </div>
                <div class="user-text">
                  <p class="text-muted mb-0">Administrator</p>
                </div>
              </div>
              <a class="dropdown-item" href="profile.html">My Profile</a>
              <a class="dropdown-item" href="settings.html">Account Settings</a>
              <a class="dropdown-item" href="login.html">Logout</a>
            </div>
          </li>
        </ul>
      </div>
      <div class="sidebar" id="sidebar">
        <div class="sidebar-inner slimscroll">
          <div id="sidebar-menu" class="sidebar-menu">
            <ul>
              <li class="active">
                <a href="index.html"
                  ><i class="fas fa-tachometer-alt"></i>
                  <span>Dashboard</span></a
                >
              </li>
              <li class="list-divider"></li>
              <li>
                <a href="Booking.html"
                  ><i class="fas fa-suitcase"></i> <span>Booked</span>
                </a>
              </li>
              <li>
                <a href="checkin.html"
                  ><i class="fas fa-suitcase"></i> <span> Check in </span>
                </a>
              </li>
              <li>
                <a href="checkout.html"
                  ><i class="fas fa-suitcase"></i> <span> Check out </span></a
                >
              </li>
              <li>
                <a href="Room category list.html"
                  ><i class="fas fa-table"></i>
                  <span> Room Category List </span></a
                >
              </li>
              <li>
                <a href="rooms.html"><i class="fas fa-key"></i> <span> Rooms </span> </a>
              </li>
              <li>
                <a href="users.html"
                  ><i class="fas fa-user"></i> <span> Users </span>
                </a>
              </li>
              <li>
                <a href="settings.html"
                  ><i class="fas fa-cog"></i> <span>Settings</span></a
                >
              </li>
              <li class="list-divider"></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="page-wrapper">
        <main id="view-panel">
        	
            <div class="container-fluid mt-5 pt-1">
                
                <div class="col-lg-12">
                    <div class="row">
                        <!-- FORM Panel -->
                        <div class="col-md-4">
                        <form action="" id="manage-room">
                            <div class="card">
                                <div class="card-header">
                                        Room Form
                                  </div>
                                <div class="card-body">
                                        <input type="hidden" name="id">
                                        <div class="form-group">
                                            <label class="control-label">Room</label>
                                            <input type="text" class="form-control" name="room">
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label">Category</label>
                                            <select class="custom-select browser-default" name="category_id">
                                                                                        <option value="2">Deluxe Room</option>
                                                                                        <option value="4">Family Room</option>
                                                                                        <option value="3">Single Room</option>
                                                                                        <option value="8">super Room</option>
                                                                                        <option value="9">super Room</option>
                                                                                        <option value="6">Twin Bed Room</option>
                                                                                </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="" class="control-label">Availability</label>
                                            <select class="custom-select browser-default" name="status">
                                                <option value="0">Available</option>
                                                <option value="1">Unavailable</option>
            
                                            </select>
                                        </div>
                                </div>
                                        
                                <div class="card-footer">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <button class="btn btn-sm btn-primary col-sm-3 offset-md-3"> Save</button>
                                            <button class="btn btn-sm btn-default col-sm-3" type="button" onclick="$('#manage-room').get(0).reset()"> Cancel</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                        </div>
                        <!-- FORM Panel -->
            
                        <!-- Table Panel -->
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-body">
                                    <table class="table table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th class="text-center">#</th>
                                                <th class="text-center">Category</th>
                                                <th class="text-center">Room</th>
                                                <th class="text-center">Status</th>
                                                <th class="text-center">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                                            <tr>
                                                <td class="text-center">1</td>
            
                                            
                                                <td class="text-center">Single Room</td>
                                                <td class="">Room-101</td>
                                                                                        <td class="text-center"><span class="badge badge-success">Available</span></td>
                                                                                    <td class="text-center">
                                                    <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="1" data-room="Room-101" data-category_id="3" data-status="0">Edit</button>
                                                    <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="1">Delete</button>
                                                </td>
                                            </tr>
                                                                            <tr>
                                                <td class="text-center">2</td>
            
                                            
                                                <td class="text-center">Single Room</td>
                                                <td class="">Room-105</td>
                                                                                        <td class="text-center"><span class="badge badge-success">Available</span></td>
                                                                                    <td class="text-center">
                                                    <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="4" data-room="Room-105" data-category_id="3" data-status="0">Edit</button>
                                                    <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="4">Delete</button>
                                                </td>
                                            </tr>
                                                                            <tr>
                                                <td class="text-center">3</td>
            
                                            
                                                <td class="text-center">Single Room</td>
                                                <td class="">Room-105</td>
                                                                                        <td class="text-center"><span class="badge badge-success">Available</span></td>
                                                                                    <td class="text-center">
                                                    <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="5" data-room="Room-105" data-category_id="3" data-status="0">Edit</button>
                                                    <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="5">Delete</button>
                                                </td>
                                            </tr>
                                                                            <tr>
                                                <td class="text-center">4</td>
            
                                            
                                                <td class="text-center">Family Room</td>
                                                <td class="">111</td>
                                                                                        <td class="text-center"><span class="badge badge-success">Available</span></td>
                                                                                    <td class="text-center">
                                                    <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="6" data-room="111" data-category_id="4" data-status="0">Edit</button>
                                                    <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="6">Delete</button>
                                                </td>
                                            </tr>
                                                                            <tr>
                                                <td class="text-center">5</td>
            
                                            
                                                <td class="text-center">Deluxe Room</td>
                                                <td class="">1111</td>
                                                                                        <td class="text-center"><span class="badge badge-success">Available</span></td>
                                                                                    <td class="text-center">
                                                    <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="7" data-room="1111" data-category_id="2" data-status="0">Edit</button>
                                                    <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="7">Delete</button>
                                                </td>
                                            </tr>
                                                                            <tr>
                                                <td class="text-center">6</td>
            
                                            
                                                <td class="text-center">super Room</td>
                                                <td class="">501</td>
                                                                                        <td class="text-center"><span class="badge badge-success">Available</span></td>
                                                                                    <td class="text-center">
                                                    <button class="btn btn-sm btn-primary edit_cat" type="button" data-id="8" data-room="501" data-category_id="8" data-status="0">Edit</button>
                                                    <button class="btn btn-sm btn-danger delete_cat" type="button" data-id="8">Delete</button>
                                                </td>
                                            </tr>
                                                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- Table Panel -->
                    </div>
                </div>	
            
            </div>
            
            <script>
                $('#manage-room').submit(function(e){
                    e.preventDefault()
                    start_load()
                    $.ajax({
                        url:'ajax.php?action=save_room',
                        method:"POST",
                        data: $(this).serialize(),
                        success:function(resp){
                            if(resp==1){
                                alert_toast("Data successfully added",'success')
                                setTimeout(function(){
                                    location.reload()
                                },1500)
            
                            }
                            else if(resp==2){
                                alert_toast("Data successfully updated",'success')
                                setTimeout(function(){
                                    location.reload()
                                },1500)
            
                            }
                        }
                    })
                })
                $('.edit_cat').click(function(){
                    start_load()
                    var cat = $('#manage-room')
                    cat.get(0).reset()
                    cat.find("[name='id']").val($(this).attr('data-id'))
                    cat.find("[name='room']").val($(this).attr('data-room'))
                    cat.find("[name='category_id']").val($(this).attr('data-category_id'))
                    cat.find("[name='status']").val($(this).attr('data-status'))
                    end_load()
                })
                $('.delete_cat').click(function(){
                    _conf("Are you sure to delete this room?","delete_cat",[$(this).attr('data-id')])
                })
                function delete_cat($id){
                    start_load()
                    $.ajax({
                        url:'ajax.php?action=delete_room',
                        method:'POST',
                        data:{id:$id},
                        success:function(resp){
                            if(resp==1){
                                alert_toast("Data successfully deleted",'success')
                                setTimeout(function(){
                                    location.reload()
                                },1500)
            
                            }
                        }
                    })
                }
            </script>  	
            
              </main>
      </div>
    </div>
    <script
      data-cfasync="false"
      src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
    ></script>
    <script src="assets/js/jquery-3.5.1.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="assets/plugins/raphael/raphael.min.js"></script>
    <script src="assets/plugins/morris/morris.min.js"></script>
    <script src="assets/js/chart.morris.js"></script>
    <script src="assets/js/script.js"></script>
  </body>
</html>
